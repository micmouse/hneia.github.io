<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <meta http-equiv="Cache-Control" content="no-siteapp"/>
  <meta name="keywords" content="猪猪钱罐">
  <meta name="description" content="猪猪钱罐">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta name="format-detection" content="telphone=no, email=no"/>
  <meta name="HandheldFriendly" content="true">
  <title>创建钱罐</title>
  <link rel="stylesheet" type="text/css" href="style/main.min.css">
  <link rel="stylesheet" type="text/css" href="style/plugin.min.css">
</head>

<body>
  <div class="ui-container">
    <div class="depositCreate-top clearfix">
      <div class="depositCreate-type clearfix">
        <span class="depositCreate-type-text">买礼物</span>
        <a href="#" class="depositCreate-type-change">更换</a>
      </div>

      <input type="text" class="depositCreate-name-input" placeholder="给您的钱罐取个好名字"/>

      <img class="depositCreate-img" src="images/deposit/deposit-green.png" alt=""/>
    </div>

    <div class="depositCreate-content ui-shadow">
      <p class="depositCreate-amount">当前累计钱罐数：5</p>

      <div class="depositCreate-input-content">
        <div class="ui-input-wrap">
          <div class="ui-label">目标金额</div>

          <div class="ui-input-body ui-input-body-label">
            <div class="ui-input-content">
              <input type="text" class="ui-input"/>
              <span class="ui-input-unit">元</span>
              <a href="javascript:void(0);" class="ui-input-clear"></a>
            </div>

            <p class="ui-input-placeholder">100 元-5000元</p>
          </div>
        </div>

        <div class="ui-input-wrap">
          <div class="ui-label">完成时间</div>

          <div class="ui-input-body ui-input-body-label">
            <div class="ui-input-content">
              <input id="depositCreateDate" type="text" class="ui-input"/>
              <a href="#" class="ui-input-help"></a>
            </div>

            <p class="depositCreate-expect">预计最低收益：<span class="ui-font-main">3.06</span>元,年化收益率：8 %</p>
            <p class="ui-input-placeholder"><a href="#" class="ui-link ui-link-gray">投资咨询与管理服务协议</a></p>
          </div>
        </div>
      </div>

      <p class="ui-align-center"><a id="depositRules" href="#" class="ui-link ui-link-gray">查看收益规则</a></p>
    </div>

    <a href="#" class="ui-btn ui-btn-main">确 认</a>
  </div>

  <!--收益率说明弹窗-->
  <div id="depositRulesDialog" class="ui-hide">
    <h3 class="ui-dialog-title">收益率说明</h3>

    <ul class="ui-list ui-list-num">
      <li>钱罐最少存入时间：1个月加2个工作日；如：2015年8月8日创建钱罐，则钱罐完成时间最少为2015年9月9日。</li>
      <li>
        <p>存入金的收益率按照存入时间长短不同有差异，越早存入收益越高：</p>
        <p>年化收益率13.5%：存入7（满7个月+2个工作日）到12个月；</p>
        <p>年化收益率10%：存入4（满4个月+2个工作日）到12个月；</p>
        <p>年化收益率8%：存入1到4个</p>
      </li>
    </ul>
  </div>
</body>
<script src="js/lib/zepto.min.js"></script>
<script src="js/plugin.min.js"></script>
<script src="js/common.min.js"></script>
<script>
  /**
   * 测试为取本地时间，实际应取服务器时间
   */
  var currYear = new Date().getFullYear(),
      currMonth = new Date().getMonth() + 1,
      currDay = new Date().getDate();
  var currDate = currYear + '/' + currMonth + '/' + currDay,
    limitDate = currYear + 1 + '/' + currMonth + '/' + currDay;

  $('#depositCreateDate').mobiscroll().date({
    mode: 'scroller',       // Specify scroller mode like: mode: 'mixed' or omit setting to use default
    display: 'modal',       // Specify display mode like: display: 'bottom' or omit setting to use default
    lang: 'zh',             // Specify language like: lang: 'pl' or omit setting to use default
    buttons: [
      {
        text: '确认',
        handler: 'set',
        cssClass: 'ui-btn-whiteBlack ui-btn'
      }

    ],
    rows: 3,
    minDate: new Date(currDate),     //最小时间
    maxDate: new Date(limitDate),    //最大时间
    dateFormat: 'yy.mm.dd',
    onSelect: function(valueText, inst) {
      alert(valueText);
    }
  });

  var $depositRules = $('#depositRules');

  $depositRules.on('click', function() {
    $.dialog('#depositRulesDialog', {
      submitCallback: function() {
        alert('确认回调！');
      }
    });
  });
</script>
</html>
